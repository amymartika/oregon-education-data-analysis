-- First, let's examine our data. 

select * from oregon_education.oregon_counties
order by county_ranking desc;

-- Let's examine Oregon county stats and get a sense for any relationship between the county's education rankings and its poverty level.

select 
    county,
    county_ranking,
    concat(percent_in_poverty, '%') as poverty_percentage,
    above_national_average
from oregon_education.oregon_counties
order by percent_in_poverty desc;

-- Our first look doesn't cleary indicate any correlation between the two factors. What happens when we test this?

select corr(percent_in_poverty, county_ranking)
from oregon_education.oregon_counties;

-- Surprisingly, there is a negative correlation between the two factors, which suggests that there are other factors influencing a county's education rankings.
-- Let's join this data with the community colleges table to start looking at the number of schools available in each county and how that might affect education ranking.

select
    counties.county as county,
    counties.county_ranking as education_ranking,
    count(colleges.school) as number_of_community_colleges
from oregon_education.oregon_counties as counties
left join oregon_education.oregon_community_colleges as colleges
on counties.county = colleges.county
group by counties.county, counties.county_ranking
order by education_ranking desc;
